(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow-sm transition-all duration-300 hover:shadow-lg hover:border-primary/20",e),...a}));r.displayName="Card";let i=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));l.displayName="CardTitle";let n=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...a}));n.displayName="CardDescription";let o=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>o,"CardDescription",()=>n,"CardHeader",()=>i,"CardTitle",()=>l])},63209,93479,10204,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209);var a=e.i(43476),s=e.i(71645),r=e.i(75157);let i=s.forwardRef(({className:e,type:t,...s},i)=>(0,a.jsx)("input",{type:t,className:(0,r.cn)("flex h-11 w-full rounded-lg border border-input bg-background px-4 py-2 text-sm ring-offset-background transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground hover:border-primary/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));i.displayName="Input",e.s(["Input",()=>i],93479);let l=(0,e.i(25913).cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=s.forwardRef(({className:e,...t},s)=>(0,a.jsx)("label",{ref:s,className:(0,r.cn)(l(),e),...t}));n.displayName="Label",e.s(["Label",()=>n],10204)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},8412,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(46932),i=e.i(88653),l=e.i(75254);let n=(0,l.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var o=e.i(95468);let d=(0,l.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),c=(0,l.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),m=(0,l.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),u=(0,l.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var x=e.i(37727),p=e.i(63209);let h=(0,l.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.i(47167);var f=e.i(86909);class g extends Error{status;statusText;data;constructor(e,t,a){super(`API Error ${e}: ${t}`),this.status=e,this.statusText=t,this.data=a,this.name="ApiError"}}async function y(){try{let e=await f.authClient.getSession();if(e?.data?.session?.token)return e.data.session.token;return null}catch(e){return console.error("Failed to get auth token:",e),null}}async function b(e,t={}){let a=await y();if(!a)throw window.location.href="/login",new g(401,"Authentication required");let s={"Content-Type":"application/json",Authorization:`Bearer ${a}`,...t.headers};try{let a,r=await fetch(`http://localhost:8001${e}`,{...t,headers:s});if(204===r.status)return;if(401===r.status)throw window.location.href="/login",new g(401,"Authentication expired. Please sign in again.");let i=r.headers.get("content-type");if(a=i?.includes("application/json")?await r.json():await r.text(),!r.ok)throw new g(r.status,r.statusText,a);return a}catch(e){if(e instanceof g)throw e;if(e instanceof Error)throw new g(500,e.message);throw new g(500,"An unexpected error occurred")}}let v=(e,t)=>b(e,{method:"PUT",body:JSON.stringify(t)});var j=e.i(19455),w=e.i(93479),N=e.i(10204),k=e.i(75157);let C=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("textarea",{className:(0,k.cn)("flex min-h-[80px] w-full rounded-lg border border-input bg-background px-4 py-3 text-sm ring-offset-background transition-all duration-200 placeholder:text-muted-foreground hover:border-primary/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 resize-none",e),ref:s,...a}));C.displayName="Textarea";var T=e.i(15288);let A=(0,e.i(25913).cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function S({className:e,variant:a,...s}){return(0,t.jsx)("div",{className:(0,k.cn)(A({variant:a}),e),...s})}function E(){(0,s.useRouter)();let[e,l]=(0,a.useState)([]),[f,g]=(0,a.useState)(!0),[y,A]=(0,a.useState)(""),[E,_]=(0,a.useState)(""),[M,R]=(0,a.useState)(""),[z,F]=(0,a.useState)(!1),[H,$]=(0,a.useState)(null),[D,L]=(0,a.useState)(""),[P,B]=(0,a.useState)("");(0,a.useEffect)(()=>{O()},[]);let O=async()=>{try{let e;g(!0),A("");let t=await (e="/tasks",b(e,{method:"GET"}));l(t.tasks)}catch(e){if(e instanceof Error){if(e.message.includes("Authentication"))return;A(e.message)}else A("Failed to load tasks")}finally{g(!1)}},I=async e=>{if(e.preventDefault(),!E.trim())return void A("Task title is required");try{let e,t;F(!0),A(""),await (e="/tasks",t={title:E,description:M||null},b(e,{method:"POST",body:JSON.stringify(t)})),_(""),R(""),await O()}catch(e){if(e instanceof Error){if(e.message.includes("Authentication"))return;A(e.message)}else A("Failed to create task")}finally{F(!1)}},q=async e=>{try{A(""),l(t=>t.map(t=>t.id===e.id?{...t,is_completed:!t.is_completed}:t)),await v(`/tasks/${e.id}`,{is_completed:!e.is_completed})}catch(t){if(l(t=>t.map(t=>t.id===e.id?{...t,is_completed:e.is_completed}:t)),t instanceof Error){if(t.message.includes("Authentication"))return;A(t.message)}else A("Failed to update task")}},V=()=>{$(null),L(""),B("")},X=async e=>{if(!D.trim())return void A("Task title is required");try{A(""),await v(`/tasks/${e}`,{title:D,description:P||null}),$(null),await O()}catch(e){if(e instanceof Error){if(e.message.includes("Authentication"))return;A(e.message)}else A("Failed to update task")}},U=async e=>{if(confirm("Are you sure you want to delete this task?"))try{let t;A(""),await (t=`/tasks/${e}`,b(t,{method:"DELETE"})),await O()}catch(e){if(e instanceof Error){if(e.message.includes("Authentication"))return;A(e.message)}else A("Failed to delete task")}},J=e.filter(e=>e.is_completed).length,K=e.length;return(0,t.jsxs)("div",{className:"relative min-h-screen overflow-hidden py-8 px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-muted/20"}),(0,t.jsx)(r.motion.div,{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),(0,t.jsx)(r.motion.div,{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.3,.5,.3]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),(0,t.jsxs)("div",{className:"container mx-auto max-w-7xl relative z-10",children:[(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,t.jsxs)(r.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight mb-2 bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"My Tasks"}),(0,t.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"Manage your tasks and track your progress"})]}),(0,t.jsx)(r.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},className:"flex gap-3",children:(0,t.jsxs)(S,{variant:"secondary",className:"text-sm md:text-base px-4 py-2 shadow-lg border-2 border-primary/20 backdrop-blur-sm",children:[(0,t.jsx)(r.motion.span,{initial:{scale:1.5,color:"hsl(var(--primary))"},animate:{scale:1,color:"currentColor"},transition:{duration:.3},children:J},J)," / ",K," completed"]})})]}),K>0&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{delay:.4},className:"w-full bg-muted rounded-full h-3 overflow-hidden shadow-inner",children:(0,t.jsx)(r.motion.div,{className:"h-full bg-gradient-to-r from-primary to-emerald-500 rounded-full shadow-lg",initial:{width:0},animate:{width:`${J/K*100}%`},transition:{duration:.8,delay:.5,ease:"easeOut"}})})]}),(0,t.jsx)(i.AnimatePresence,{children:y&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-2 rounded-lg bg-destructive/10 p-4 text-sm text-destructive border border-destructive/20 shadow-sm",children:[(0,t.jsx)(p.AlertCircle,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{children:y})]})})}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,t.jsx)(r.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"lg:col-span-1",children:(0,t.jsxs)(T.Card,{className:"sticky top-20 shadow-2xl border-2 border-primary/20 backdrop-blur-sm bg-background/95 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary to-emerald-500"}),(0,t.jsxs)(T.CardHeader,{className:"pb-4 pt-6",children:[(0,t.jsxs)(T.CardTitle,{className:"flex items-center gap-2 text-xl md:text-2xl bg-gradient-to-r from-primary to-emerald-600 bg-clip-text text-transparent",children:[(0,t.jsx)(r.motion.div,{whileHover:{rotate:90,scale:1.1},transition:{type:"spring",stiffness:300},children:(0,t.jsx)(n,{className:"h-6 w-6 text-primary"})}),"New Task"]}),(0,t.jsx)(T.CardDescription,{className:"text-sm md:text-base",children:"Create a new task to get started"})]}),(0,t.jsx)(T.CardContent,{children:(0,t.jsxs)("form",{onSubmit:I,className:"space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{htmlFor:"new-title",className:"text-sm font-medium",children:"Title *"}),(0,t.jsx)(w.Input,{id:"new-title",placeholder:"Enter task title",value:E,onChange:e=>_(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.Label,{htmlFor:"new-description",className:"text-sm font-medium",children:"Description"}),(0,t.jsx)(C,{id:"new-description",placeholder:"Add details (optional)",value:M,onChange:e=>R(e.target.value),rows:3})]}),(0,t.jsx)(j.Button,{type:"submit",className:"w-full shadow-md",disabled:z,children:z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{className:"mr-2 h-4 w-4"}),"Create Task"]})})]})})]})}),(0,t.jsx)(r.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"lg:col-span-2",children:(0,t.jsxs)(T.Card,{className:"shadow-2xl border-2 border-primary/20 backdrop-blur-sm bg-background/95 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-500 to-primary"}),(0,t.jsxs)(T.CardHeader,{className:"pb-4 pt-6",children:[(0,t.jsx)(T.CardTitle,{className:"text-xl md:text-2xl bg-gradient-to-r from-emerald-600 to-primary bg-clip-text text-transparent",children:"Your Tasks"}),(0,t.jsx)(T.CardDescription,{className:"text-sm md:text-base",children:0===K?"No tasks yet":`${K} task${1!==K?"s":""} total`})]}),(0,t.jsx)(T.CardContent,{children:f?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground",children:[(0,t.jsx)(h,{className:"h-10 w-10 animate-spin mb-4 text-primary"}),(0,t.jsx)("p",{className:"text-sm md:text-base",children:"Loading tasks..."})]}):0===e.length?(0,t.jsxs)(r.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,t.jsx)(r.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"rounded-full bg-gradient-to-br from-primary/10 to-emerald-500/10 p-6 mb-4 shadow-lg",children:(0,t.jsx)(o.CheckCircle2,{className:"h-12 w-12 text-primary"})}),(0,t.jsx)("h3",{className:"font-semibold text-lg md:text-xl mb-2",children:"No tasks yet"}),(0,t.jsx)("p",{className:"text-sm md:text-base text-muted-foreground max-w-sm",children:"Create your first task using the form on the left to get started!"})]}):(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsx)(i.AnimatePresence,{mode:"popLayout",children:e.map((e,a)=>(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{duration:.3,delay:.05*a},layout:!0,children:H===e.id?(0,t.jsx)(T.Card,{className:"border-primary border-2 shadow-lg",children:(0,t.jsx)(T.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(w.Input,{value:D,onChange:e=>L(e.target.value),placeholder:"Task title",className:"text-base"}),(0,t.jsx)(C,{value:P,onChange:e=>B(e.target.value),placeholder:"Task description",rows:2}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(j.Button,{size:"sm",onClick:()=>X(e.id),className:"shadow-md",children:[(0,t.jsx)(u,{className:"mr-2 h-4 w-4"}),"Save"]}),(0,t.jsxs)(j.Button,{size:"sm",variant:"outline",onClick:V,children:[(0,t.jsx)(x.X,{className:"mr-2 h-4 w-4"}),"Cancel"]})]})]})})}):(0,t.jsxs)(T.Card,{className:(0,k.cn)("group transition-all duration-300 hover:shadow-2xl cursor-pointer border-2 backdrop-blur-sm relative overflow-hidden",e.is_completed?"bg-muted/30 border-emerald-500/30":"hover:border-primary/50"),children:[e.is_completed&&(0,t.jsx)(r.motion.div,{initial:{scaleX:0},animate:{scaleX:1},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-500 to-green-500"}),(0,t.jsx)(T.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(r.motion.button,{onClick:()=>q(e),className:"mt-0.5",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},children:e.is_completed?(0,t.jsx)(r.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300},children:(0,t.jsx)(o.CheckCircle2,{className:"h-6 w-6 text-emerald-600"})}):(0,t.jsx)(d,{className:"h-6 w-6 text-muted-foreground group-hover:text-primary transition-colors"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:(0,k.cn)("font-semibold text-base md:text-lg mb-1",e.is_completed&&"line-through text-muted-foreground"),children:e.title}),e.description&&(0,t.jsx)("p",{className:(0,k.cn)("text-sm md:text-base text-muted-foreground leading-relaxed",e.is_completed&&"line-through"),children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,t.jsx)(S,{variant:e.is_completed?"success":"secondary",className:"text-xs",children:e.is_completed?"Completed":"Pending"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)(r.motion.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,t.jsx)(j.Button,{size:"icon",variant:"ghost",onClick:()=>{$(e.id),L(e.title),B(e.description||"")},className:"h-9 w-9 hover:bg-primary/10 hover:text-primary",children:(0,t.jsx)(c,{className:"h-4 w-4"})})}),(0,t.jsx)(r.motion.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,t.jsx)(j.Button,{size:"icon",variant:"ghost",onClick:()=>U(e.id),className:"h-9 w-9 text-destructive hover:text-destructive hover:bg-destructive/10",children:(0,t.jsx)(m,{className:"h-4 w-4"})})})]})]})})]})},e.id))})})})]})})]})]})]})}e.s(["default",()=>E],8412)}]);