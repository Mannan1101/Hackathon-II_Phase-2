module.exports=[44343,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(46271),f=a.i(62036),g=a.i(70106);let h=(0,g.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var i=a.i(67453);let j=(0,g.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),k=(0,g.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),l=(0,g.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),m=(0,g.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var n=a.i(33508),o=a.i(92e3);let p=(0,g.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var q=a.i(63672);class r extends Error{status;statusText;data;constructor(a,b,c){super(`API Error ${a}: ${b}`),this.status=a,this.statusText=b,this.data=c,this.name="ApiError"}}async function s(){try{let a=await q.authClient.getSession();if(a?.data?.session?.token)return a.data.session.token;return null}catch(a){return console.error("Failed to get auth token:",a),null}}async function t(a,b={}){let c=await s();if(!c)throw new r(401,"Authentication required");let d={"Content-Type":"application/json",Authorization:`Bearer ${c}`,...b.headers};try{let c,e=await fetch(`http://localhost:8001${a}`,{...b,headers:d});if(204===e.status)return;if(401===e.status)throw new r(401,"Authentication expired. Please sign in again.");let f=e.headers.get("content-type");if(c=f?.includes("application/json")?await e.json():await e.text(),!e.ok)throw new r(e.status,e.statusText,c);return c}catch(a){if(a instanceof r)throw a;if(a instanceof Error)throw new r(500,a.message);throw new r(500,"An unexpected error occurred")}}let u=(a,b)=>t(a,{method:"PUT",body:JSON.stringify(b)});var v=a.i(99570),w=a.i(66718),x=a.i(70430),y=a.i(68114);let z=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("textarea",{className:(0,y.cn)("flex min-h-[80px] w-full rounded-lg border border-input bg-background px-4 py-3 text-sm ring-offset-background transition-all duration-200 placeholder:text-muted-foreground hover:border-primary/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 resize-none",a),ref:d,...c}));z.displayName="Textarea";var A=a.i(91119);let B=(0,a.i(187).cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function C({className:a,variant:c,...d}){return(0,b.jsx)("div",{className:(0,y.cn)(B({variant:c}),a),...d})}function D(){(0,d.useRouter)();let[a,g]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,B]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)("");(0,c.useEffect)(()=>{P()},[]);let P=async()=>{try{let a;r(!0),B("");let b=await (a="/tasks",t(a,{method:"GET"}));g(b.tasks)}catch(a){if(a instanceof Error){if(a.message.includes("Authentication"))return;B(a.message)}else B("Failed to load tasks")}finally{r(!1)}},Q=async a=>{if(a.preventDefault(),!D.trim())return void B("Task title is required");try{let a,b;I(!0),B(""),await (a="/tasks",b={title:D,description:F||null},t(a,{method:"POST",body:JSON.stringify(b)})),E(""),G(""),await P()}catch(a){if(a instanceof Error){if(a.message.includes("Authentication"))return;B(a.message)}else B("Failed to create task")}finally{I(!1)}},R=async a=>{try{B(""),g(b=>b.map(b=>b.id===a.id?{...b,is_completed:!b.is_completed}:b)),await u(`/tasks/${a.id}`,{is_completed:!a.is_completed})}catch(b){if(g(b=>b.map(b=>b.id===a.id?{...b,is_completed:a.is_completed}:b)),b instanceof Error){if(b.message.includes("Authentication"))return;B(b.message)}else B("Failed to update task")}},S=()=>{K(null),M(""),O("")},T=async a=>{if(!L.trim())return void B("Task title is required");try{B(""),await u(`/tasks/${a}`,{title:L,description:N||null}),K(null),await P()}catch(a){if(a instanceof Error){if(a.message.includes("Authentication"))return;B(a.message)}else B("Failed to update task")}},U=async a=>{if(confirm("Are you sure you want to delete this task?"))try{let b;B(""),await (b=`/tasks/${a}`,t(b,{method:"DELETE"})),await P()}catch(a){if(a instanceof Error){if(a.message.includes("Authentication"))return;B(a.message)}else B("Failed to delete task")}},V=a.filter(a=>a.is_completed).length,W=a.length;return(0,b.jsxs)("div",{className:"relative min-h-screen overflow-hidden py-8 px-4 sm:px-6 lg:px-8",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-muted/20"}),(0,b.jsx)(e.motion.div,{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),(0,b.jsx)(e.motion.div,{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.3,.5,.3]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),(0,b.jsxs)("div",{className:"container mx-auto max-w-7xl relative z-10",children:[(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight mb-2 bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"My Tasks"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"Manage your tasks and track your progress"})]}),(0,b.jsx)(e.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},className:"flex gap-3",children:(0,b.jsxs)(C,{variant:"secondary",className:"text-sm md:text-base px-4 py-2 shadow-lg border-2 border-primary/20 backdrop-blur-sm",children:[(0,b.jsx)(e.motion.span,{initial:{scale:1.5,color:"hsl(var(--primary))"},animate:{scale:1,color:"currentColor"},transition:{duration:.3},children:V},V)," / ",W," completed"]})})]}),W>0&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{delay:.4},className:"w-full bg-muted rounded-full h-3 overflow-hidden shadow-inner",children:(0,b.jsx)(e.motion.div,{className:"h-full bg-gradient-to-r from-primary to-emerald-500 rounded-full shadow-lg",initial:{width:0},animate:{width:`${V/W*100}%`},transition:{duration:.8,delay:.5,ease:"easeOut"}})})]}),(0,b.jsx)(f.AnimatePresence,{children:s&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-2 rounded-lg bg-destructive/10 p-4 text-sm text-destructive border border-destructive/20 shadow-sm",children:[(0,b.jsx)(o.AlertCircle,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,b.jsx)("span",{children:s})]})})}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,b.jsx)(e.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"lg:col-span-1",children:(0,b.jsxs)(A.Card,{className:"sticky top-20 shadow-2xl border-2 border-primary/20 backdrop-blur-sm bg-background/95 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary to-emerald-500"}),(0,b.jsxs)(A.CardHeader,{className:"pb-4 pt-6",children:[(0,b.jsxs)(A.CardTitle,{className:"flex items-center gap-2 text-xl md:text-2xl bg-gradient-to-r from-primary to-emerald-600 bg-clip-text text-transparent",children:[(0,b.jsx)(e.motion.div,{whileHover:{rotate:90,scale:1.1},transition:{type:"spring",stiffness:300},children:(0,b.jsx)(h,{className:"h-6 w-6 text-primary"})}),"New Task"]}),(0,b.jsx)(A.CardDescription,{className:"text-sm md:text-base",children:"Create a new task to get started"})]}),(0,b.jsx)(A.CardContent,{children:(0,b.jsxs)("form",{onSubmit:Q,className:"space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"new-title",className:"text-sm font-medium",children:"Title *"}),(0,b.jsx)(w.Input,{id:"new-title",placeholder:"Enter task title",value:D,onChange:a=>E(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"new-description",className:"text-sm font-medium",children:"Description"}),(0,b.jsx)(z,{id:"new-description",placeholder:"Add details (optional)",value:F,onChange:a=>G(a.target.value),rows:3})]}),(0,b.jsx)(v.Button,{type:"submit",className:"w-full shadow-md",disabled:H,children:H?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h,{className:"mr-2 h-4 w-4"}),"Create Task"]})})]})})]})}),(0,b.jsx)(e.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"lg:col-span-2",children:(0,b.jsxs)(A.Card,{className:"shadow-2xl border-2 border-primary/20 backdrop-blur-sm bg-background/95 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-500 to-primary"}),(0,b.jsxs)(A.CardHeader,{className:"pb-4 pt-6",children:[(0,b.jsx)(A.CardTitle,{className:"text-xl md:text-2xl bg-gradient-to-r from-emerald-600 to-primary bg-clip-text text-transparent",children:"Your Tasks"}),(0,b.jsx)(A.CardDescription,{className:"text-sm md:text-base",children:0===W?"No tasks yet":`${W} task${1!==W?"s":""} total`})]}),(0,b.jsx)(A.CardContent,{children:q?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground",children:[(0,b.jsx)(p,{className:"h-10 w-10 animate-spin mb-4 text-primary"}),(0,b.jsx)("p",{className:"text-sm md:text-base",children:"Loading tasks..."})]}):0===a.length?(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)(e.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"rounded-full bg-gradient-to-br from-primary/10 to-emerald-500/10 p-6 mb-4 shadow-lg",children:(0,b.jsx)(i.CheckCircle2,{className:"h-12 w-12 text-primary"})}),(0,b.jsx)("h3",{className:"font-semibold text-lg md:text-xl mb-2",children:"No tasks yet"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-muted-foreground max-w-sm",children:"Create your first task using the form on the left to get started!"})]}):(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsx)(f.AnimatePresence,{mode:"popLayout",children:a.map((a,c)=>(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{duration:.3,delay:.05*c},layout:!0,children:J===a.id?(0,b.jsx)(A.Card,{className:"border-primary border-2 shadow-lg",children:(0,b.jsx)(A.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(w.Input,{value:L,onChange:a=>M(a.target.value),placeholder:"Task title",className:"text-base"}),(0,b.jsx)(z,{value:N,onChange:a=>O(a.target.value),placeholder:"Task description",rows:2}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(v.Button,{size:"sm",onClick:()=>T(a.id),className:"shadow-md",children:[(0,b.jsx)(m,{className:"mr-2 h-4 w-4"}),"Save"]}),(0,b.jsxs)(v.Button,{size:"sm",variant:"outline",onClick:S,children:[(0,b.jsx)(n.X,{className:"mr-2 h-4 w-4"}),"Cancel"]})]})]})})}):(0,b.jsxs)(A.Card,{className:(0,y.cn)("group transition-all duration-300 hover:shadow-2xl cursor-pointer border-2 backdrop-blur-sm relative overflow-hidden",a.is_completed?"bg-muted/30 border-emerald-500/30":"hover:border-primary/50"),children:[a.is_completed&&(0,b.jsx)(e.motion.div,{initial:{scaleX:0},animate:{scaleX:1},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-500 to-green-500"}),(0,b.jsx)(A.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(e.motion.button,{onClick:()=>R(a),className:"mt-0.5",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},children:a.is_completed?(0,b.jsx)(e.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300},children:(0,b.jsx)(i.CheckCircle2,{className:"h-6 w-6 text-emerald-600"})}):(0,b.jsx)(j,{className:"h-6 w-6 text-muted-foreground group-hover:text-primary transition-colors"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:(0,y.cn)("font-semibold text-base md:text-lg mb-1",a.is_completed&&"line-through text-muted-foreground"),children:a.title}),a.description&&(0,b.jsx)("p",{className:(0,y.cn)("text-sm md:text-base text-muted-foreground leading-relaxed",a.is_completed&&"line-through"),children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,b.jsx)(C,{variant:a.is_completed?"success":"secondary",className:"text-xs",children:a.is_completed?"Completed":"Pending"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()})]})]}),(0,b.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)(e.motion.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,b.jsx)(v.Button,{size:"icon",variant:"ghost",onClick:()=>{K(a.id),M(a.title),O(a.description||"")},className:"h-9 w-9 hover:bg-primary/10 hover:text-primary",children:(0,b.jsx)(k,{className:"h-4 w-4"})})}),(0,b.jsx)(e.motion.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,b.jsx)(v.Button,{size:"icon",variant:"ghost",onClick:()=>U(a.id),className:"h-9 w-9 text-destructive hover:text-destructive hover:bg-destructive/10",children:(0,b.jsx)(l,{className:"h-4 w-4"})})})]})]})})]})},a.id))})})})]})})]})]})]})}a.s(["default",()=>D],44343)}];

//# sourceMappingURL=src_app_tasks_page_tsx_f446824e._.js.map